CREATE TABLE SUP
(
    SNO INTEGER NOT NULL UNIQUE,
    SNAME VARCHAR(10) NOT NULL,
    SADDR VARCHAR(10) NOT NULL 
)

CREATE TABLE PART
(
    PNO INTEGER NOT NULL UNIQUE,
    PNAME VARCHAR(10) NOT NULL,
    PCOLOR VARCHAR(10) NOT NULL
)

CREATE TABLE PROJECT
(
    PRONO INTEGER NOT NULL UNIQUE,
    PRONAME VARCHAR(10) NOT NULL,
    PROADDR VARCHAR(10) NOT NULL
)

CREATE TABLE SPJ
(
    SNO INTEGER NOT NULL,
    PNO INTEGER NOT NULL,
    PRONO INTEGER NOT NULL
)

INSERT
INTO SUP(SNO, SNAME, SADDR)
VALUES(1, 'SUP1', 'A');

INSERT
INTO SUP(SNO, SNAME, SADDR)
VALUES(2, 'SUP2', 'A');

INSERT
INTO SUP(SNO, SNAME, SADDR)
VALUES(3, 'SUP3', 'B');

INSERT
INTO SUP(SNO, SNAME, SADDR)
VALUES(4, 'SUP4', 'C');

INSERT
INTO SUP(SNO, SNAME, SADDR)
VALUES(5, 'SUP5', 'C');


INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(1, 'PART1', 'RED');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(2, 'PART2', 'RED');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(3, 'PART3', 'BLUE');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(4, 'PART4', 'GREEN');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(5, 'PART5', 'GREEN');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(6, 'PART6', 'YELLOW');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(7, 'PART7', 'YELLOW');

INSERT
INTO PART(PNO, PNAME, PCOLOR)
VALUES(8, 'PART8', 'BLACK');


INSERT
INTO PROJECT(PRONO, PRONAME, PROADDR)
VALUES(1, 'PRO1', 'A');

INSERT
INTO PROJECT(PRONO, PRONAME, PROADDR)
VALUES(2, 'PRO2', 'A');

INSERT
INTO PROJECT(PRONO, PRONAME, PROADDR)
VALUES(3, 'PRO3', 'B');

INSERT
INTO PROJECT(PRONO, PRONAME, PROADDR)
VALUES(4, 'PRO4', 'B');

INSERT
INTO PROJECT(PRONO, PRONAME, PROADDR)
VALUES(5, 'PRO5', 'C');

INSERT
INTO PROJECT(PRONO, PRONAME, PROADDR)
VALUES(6, 'PRO6', 'C');


INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 1, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 1, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 1, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 1, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 2, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 2, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 2, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 2, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 3, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 3, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 3, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 3, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 4, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 4, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 4, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(1, 5, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 1, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 1, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 1, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 2, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 2, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 3, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 3, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 4, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 6, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 6, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 6, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 7, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(2, 8, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 1, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 1, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 2, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 2, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 3, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 5, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 5, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 5, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 7, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 7, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 8, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 8, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(3, 8, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 1, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 1, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 2, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 2, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 2, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 3, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 3, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 3, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 6, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 6, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 7, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 7, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 7, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 8, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(4, 8, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 1, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 3, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 3, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 4, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 4, 4);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 4, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 5, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 5, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 5, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 6, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 6, 5);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 6, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 7, 1);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 7, 3);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 7, 6);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 8, 2);

INSERT
INTO SPJ(SNO, PNO, PRONO)
VALUES(5, 8, 3);


-- 给出为某项工程提供零件的全部供应商名
SELECT DISTINCT SNAME
FROM SUP, SPJ
WHERE SPJ.PRONO = 1 AND SPJ.SNO = SUP.SNO

-- 给出使用某供应商所供零件的全部工程名
SELECT DISTINCT PRONAME
FROM PROJECT, SPJ
WHERE SPJ.SNO = 1 AND SPJ.PRONO = PROJECT.PRONO

-- 给出使用红色零件的工程名
SELECT DISTINCT PRONAME
FROM SPJ, PROJECT, PART
WHERE PART.PCOLOR = 'RED' AND PART.PNO = SPJ.PNO AND SPJ.PRONO = PROJECT.PRONO

-- 给出住在A地而为不在A地、且不使用红色零件的工程提供零件的供应商名
SELECT DISTINCT SNAME
FROM SPJ, SUP, PART, PROJECT
WHERE SUP.SADDR = 'A' AND PROJECT.PROADDR != 'A' AND PART.PCOLOR != 'RED' AND SPJ.SNO = SUP.SNO AND SPJ.PNO = PART.PNO AND SPJ.PRONO = PROJECT.PRONO

-- 给出使用某供应商供应的全部零件的工程名
SELECT DISTINCT PRONAME
FROM SPJ SPJX, PROJECT
WHERE PROJECT.PRONO = SPJX.PRONO AND NOT EXISTS
(
    SELECT *
    FROM SPJ SPJY
    WHERE SNO = 4 AND NOT EXISTS
    (
        SELECT *
        FROM SPJ SPJZ
        WHERE SPJZ.PNO = SPJX.PNO AND SPJZ.PNO = SPJY.PNO
    )
)